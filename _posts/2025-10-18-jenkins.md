---
layout: post
title: Jenkins
---

[Jenkins](https://www.jenkins.io) is an open source automation software. It automates the various phases of software development.
- Build
- Test
- Deployment/Delivery 

# Table of Contents
- [CI/CD](#ci-cd)
- [Install Jenkins](#install-jenkins)
- [First job](#first-job)
- [Trigger build from GitHub](#trigger-build-from-github)



## CI/CD
### Continuous Integration (CI)
- CI is the practice of frequently integrating code from multiple developers. 
- Every commit or push to a central repository triggers automated build and test.
- Build/Test failure triggers an alert to developers.

### Continuous Delivery (CD)
- A practice where code changes are automatically built, tested, and prepared for a release to production. 
- Requires manual approval before deployment.

### Continuous Deployment (CD)
- A practice where code changes are automatically built, tested, and deployed to production. 

## Install Jenkins
1. Jenkins can be deployed as [container or java](https://www.jenkins.io/doc/book/installing/) WAR but I will install it using the old fashioned way on Ubuntu 22.04. I follow the [instructions](https://www.jenkins.io/doc/book/installing/linux/#debianubuntu) on Jenkins website. 

1. Jenkins has two releases - Weekly release and LTS release. I will use the LTS release.

1. It requires Java. I will install Java 21 which is compatible with the latest LTS (2.479.1 October 2024) at the time of writing this.

1. Install Java
    ```
    sudo apt update -y
    sudo apt install fontconfig openjdk-21-jre -y
    ```

    Verify
    ```
    java -version
    openjdk version "21.0.8" 2025-07-15
    OpenJDK Runtime Environment (build 21.0.8+9-Ubuntu-0ubuntu122.04.1)
    OpenJDK 64-Bit Server VM (build 21.0.8+9-Ubuntu-0ubuntu122.04.1, mixed mode, sharing)
    ```

1. Add Jenkins repository
    ```
    sudo wget -O /etc/apt/keyrings/jenkins-keyring.asc \
    https://pkg.jenkins.io/debian-stable/jenkins.io-2023.key
    echo "deb [signed-by=/etc/apt/keyrings/jenkins-keyring.asc]" \
    https://pkg.jenkins.io/debian-stable binary/ | sudo tee \
    /etc/apt/sources.list.d/jenkins.list > /dev/null
    sudo apt update -y
    ```
1. Install Jenkins
    ```
    sudo apt install jenkins -y
    ```

    Enable and start Jenkins
    ```
    sudo systemctl --now jenkins
    ```

    Verify
    ```
    sudo systemctl status jenkins
    ```

    Jenkins should ve available at http://localhost:8080. 

    To change the default port 8080 to some other port, edit the following file and restart Jenkins
    ```
    grep 8080   /usr/lib/systemd/system/jenkins.service
    Environment="JENKINS_PORT=8080"
    ```
    The Jenkins config file and parameter to edit may change. 
1. Get the admin password from `/var/lib/jenkins/secrets/initialAdminPassword`
1. Go to http://locahost:8080
1. Follow the on screen steps
1. Jenkins is ready

## First Job
1. Go to Jenkins
1. New Item
1. Provide a name
1. Freestyle project
1. Build Steps
    1. Execute shell
    1. Enter Command: echo "My first Jenkins job"
1. Save
1. Build Now
1. Go to Console Output to see the output

## Trigger build from GitHub 
We can trigger Jenkins build from GitHub using Webhook. 

Configure the integration
1. In Jenkins > Manage Jenkins (the gear icon) > System > GitHub > Advance > Override Hook URL
1. Jenkins runs on my local host. GitHubs won't be able to access it. To expose Jenkins to the internet, I use ngrok.
1. Get ngrok url for Jenkins
    ```
    ngrok http 8080
    ```
    Copy the ngrok URL `https://example.ngrok-free.app`
1. Go to your GitHub repository > Settings > Webhooks
1. In Payload URL, paste the ngrok url and append github-webook, don't miss the trailing slash: `https://example.ngrok-free.app/github-webhook/`
1. Add webhook

Create a Jenkins Job
1. New Item > Enter a name > Freestyle project > OK
1. Source Code Management > Git
1. Enter the repository htts url under Repository URL
1. Branches to build > main
1. Triggers > GitHub hook trigger for GITScm polling
1. Save
1. To test > Build Now

Trigger build from GitHub
1. Go to the GitHub repository 
1. Edit some file and commit
1. This should trigger a build. In Jenkins, if you don't see a new build, refresh the page.
1. Click on the build, you should see "Started by GitHub push by user_name".

This is Continuous Integration.

We made a commit from GitHub GUI. Let us know commit with git CLI

1. Clone the repository
    ```
    git clone URL
    ```
1. cd <DIR>
1. Make some change
1. git add . && git commit -m "message"
1. In Jenkins > Go to the job
1. There should be a new build
1. Open the build. Inspect the status, changes and Console Output.


Modern IDEs such as VS Code has integrations with git/GitHub.We can commit and push changes from VS Code itself.

1. Open the repository in VS Code
2. Make some changes
2. Go the Source Control
2. Enter a commit message and click Commit
2. To push to remote, click Sync Changes